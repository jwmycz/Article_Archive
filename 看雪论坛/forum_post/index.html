<style>
body {
    background: #f5f5f5;
}

.verify-container {
    max-width: 600px;
    margin: 80px auto;
    background: #fff;
    border-radius: 8px;
    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);
    padding: 40px;
    text-align: center;
}

.verify-title {
    font-size: 24px;
    color: #333;
    margin-bottom: 10px;
    font-weight: 600;
}

.verify-desc {
    color: #666;
    font-size: 14px;
    margin-bottom: 30px;
    line-height: 1.6;
}

.info-box {
    background: #e6f7ff;
    border: 1px solid #91d5ff;
    border-radius: 4px;
    padding: 12px;
    margin-bottom: 20px;
    font-size: 14px;
    color: #0050b3;
}

.info-box.warning {
    background: #fff7e6;
    border-color: #ffd591;
    color: #ad6800;
}

.info-box.success {
    background: #f6ffed;
    border-color: #b7eb8f;
    color: #52c41a;
}

.thread-info {
    background: #fafafa;
    border: 1px solid #e8e8e8;
    border-radius: 4px;
    padding: 15px;
    margin: 20px 0;
    text-align: left;
}

.thread-info h3 {
    margin: 0 0 10px 0;
    font-size: 16px;
    color: #333;
}

.thread-meta {
    font-size: 12px;
    color: #999;
}

.captcha-wrapper {
    margin: 30px 0;
    display: flex;
    justify-content: center;
}

#captcha {
    display: inline-block;
}

.btn-submit {
    background: #1890ff;
    color: #fff;
    border: none;
    border-radius: 4px;
    padding: 12px 40px;
    font-size: 16px;
    cursor: pointer;
    transition: all 0.3s;
}

.btn-submit:hover {
    background: #40a9ff;
}

.btn-submit:disabled {
    background: #d9d9d9;
    cursor: not-allowed;
}

.btn-submit.countdown {
    background: #52c41a;
}

.btn-submit.countdown:hover {
    background: #73d13d;
}

.error-msg {
    color: #ff4d4f;
    font-size: 14px;
    margin-top: 10px;
    display: none;
}

.login-tip {
    margin-top: 20px;
    padding-top: 20px;
    border-top: 1px solid #e8e8e8;
    font-size: 14px;
    color: #666;
}

.login-tip a {
    color: #1890ff;
    text-decoration: none;
}

.login-tip a:hover {
    text-decoration: underline;
}

.countdown-tip {
    margin-top: 15px;
    color: #52c41a;
    font-size: 14px;
    display: none;
}
</style>
<div class="verify-container">
<h1 class="verify-title">ğŸ”’ å®‰å…¨éªŒè¯�</h1>
<div class="info-box" id="mainInfoBox">
        è¯·ç¡®è®¤æ‚¨ä¸�æ˜¯æœºå™¨äºº å¼€å§‹éªŒè¯�
    </div>
<div class="info-box warning">
        æ‚¨å½“å‰�æœªç™»å½•ï¼Œæ¯�æ¬¡è®¿é—®è¯¥ç±»å¸–å­�éƒ½éœ€è¦�éªŒè¯�ã€‚ç™»å½•å��1å°�æ—¶å†…æ— éœ€é‡�å¤�éªŒè¯�ï¼�
    </div>
<form action="./thread-278661-1.htm" id="verifyForm" method="POST">
<input name="tid" type="hidden" value="278661"/>
<input id="NECaptchaValidate" name="NECaptchaValidate" type="hidden"/>
<div class="captcha-wrapper">
<div id="captcha"></div>
</div>
<button class="btn-submit" disabled="" id="submitBtn" type="submit">ç»§ç»­è®¿é—®</button>
<div class="countdown-tip" id="countdownTip">
<span id="countdownText"></span>
</div>
<div class="error-msg" id="errorMsg"></div>
</form>
<div class="login-tip">
        å·²æœ‰è´¦å�·ï¼Ÿ<a href="./user-login.htm">ç«‹å�³ç™»å½•</a>ï¼ŒéªŒè¯�å��1å°�æ—¶å†…æ— éœ€é‡�å¤�éªŒè¯�
    </div>
</div>
<!-- ç½‘æ˜“äº‘ç›¾éªŒè¯�ç �JS -->
<script src="https://cstaticdun.126.net/load.min.js"></script>
<script>
var captchaIns;
var countdownTimer = null;
var countdownSeconds = 3;

// åˆ�å§‹åŒ–éªŒè¯�ç �
initNECaptcha({
    captchaId: 'e019d55cf18348519c201a0d2f80ebfb',
    element: '#captcha',
    mode: 'popup',
    width: '320px',
    onReady: function(instance) {
        captchaIns = instance;
    },
    onVerify: function(err, data) {
        if (err) {
            showError('éªŒè¯�å¤±è´¥ï¼Œè¯·é‡�è¯•');
            document.getElementById('submitBtn').disabled = true;
            return;
        }
        
        // éªŒè¯�æˆ�åŠŸ
        document.getElementById('NECaptchaValidate').value = data.validate;
        document.getElementById('submitBtn').disabled = false;
        hideError();
        
        // æ›´æ–°æ��ç¤ºä¿¡æ�¯
        var mainInfoBox = document.getElementById('mainInfoBox');
        mainInfoBox.className = 'info-box success';
        mainInfoBox.textContent = 'âœ“ éªŒè¯�æˆ�åŠŸï¼�';
        
        // å�¯åŠ¨å€’è®¡æ—¶
        startCountdown();
    }
}, function(instance) {
    // åˆ�å§‹åŒ–æˆ�åŠŸå��è‡ªåŠ¨å¼¹å‡ºéªŒè¯�ç �
    captchaIns = instance;
    instance.popUp();
}, function(err) {
    console.error('éªŒè¯�ç �åŠ è½½å¤±è´¥', err);
    showError('éªŒè¯�ç �åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é¡µé�¢é‡�è¯•');
});

// å�¯åŠ¨å€’è®¡æ—¶
function startCountdown() {
    var submitBtn = document.getElementById('submitBtn');
    var countdownTip = document.getElementById('countdownTip');
    var countdownText = document.getElementById('countdownText');
    
    // æ˜¾ç¤ºå€’è®¡æ—¶æ��ç¤º
    countdownTip.style.display = 'block';
    submitBtn.className = 'btn-submit countdown';
    
    // æ›´æ–°å€’è®¡æ—¶æ˜¾ç¤º
    function updateCountdown() {
        submitBtn.textContent = 'ç»§ç»­è®¿é—® (' + countdownSeconds + 's)';
        countdownText.textContent = countdownSeconds + ' ç§’å��è‡ªåŠ¨è·³è½¬...';
        
        if (countdownSeconds <= 0) {
            clearInterval(countdownTimer);
            submitBtn.textContent = 'æ­£åœ¨è·³è½¬...';
            countdownText.textContent = 'æ­£åœ¨è·³è½¬...';
            
            // è‡ªåŠ¨æ��äº¤è¡¨å�•
            document.getElementById('verifyForm').submit();
        }
        
        countdownSeconds--;
    }
    
    // ç«‹å�³æ‰§è¡Œä¸€æ¬¡
    updateCountdown();
    
    // æ¯�ç§’æ›´æ–°ä¸€æ¬¡
    countdownTimer = setInterval(updateCountdown, 1000);
}

// è¡¨å�•æ��äº¤éªŒè¯�
document.getElementById('verifyForm').addEventListener('submit', function(e) {
    var validate = document.getElementById('NECaptchaValidate').value;
    
    if (!validate) {
        e.preventDefault();
        showError('è¯·å…ˆå®Œæˆ�æ»‘åŠ¨éªŒè¯�');
        if (captchaIns) {
            captchaIns.popUp();
        }
        return false;
    }
    
    // å¦‚æ�œç”¨æˆ·æ‰‹åŠ¨ç‚¹å‡»ï¼Œæ¸…é™¤å€’è®¡æ—¶
    if (countdownTimer) {
        clearInterval(countdownTimer);
        document.getElementById('submitBtn').textContent = 'æ­£åœ¨è·³è½¬...';
        document.getElementById('countdownText').textContent = 'æ­£åœ¨è·³è½¬...';
    }
});

function showError(msg) {
    var errorMsg = document.getElementById('errorMsg');
    errorMsg.textContent = msg;
    errorMsg.style.display = 'block';
}

function hideError() {
    document.getElementById('errorMsg').style.display = 'none';
}
</script>